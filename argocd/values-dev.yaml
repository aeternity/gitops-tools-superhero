encValues:
  dex.github.clientID: "AgCG+ElP24iCKZ5hrpad3sEVdNOWhBB0wsLY1HTemUNgQAYxHt1VFeqes1yCZeYkEpFOX/tG2TnyYtOvGS9e4cwanY8e5QMyRJmhWS5pMeEknr5qugMegKal+8wWnomnNyUe0zhUYbcI3dQFB2VN03QsV+OtJlXYy6oYO/Q+QelhNHX1nvS/wv9ldA41BcYYiudc9dSs/rxFUnpbUhY33R2bTxXjOZ53g27ib13lbemTLsrPyZThx+q3ondLAK5TovWuiLlLPqjuf4OVEl39BY/PcCgbuuTvsc2OK6vKhPq8YINPLX/boUnMw/az0DO0LCXHW0TNenXCg7RYtQtTtdY9q2kP/gamDX/54eDzJ19kfmYMMNpTKR0cFm3oRefaTAqGeR+LoRs90cUHGNxwQflhjk11wyZR8INS7gLc42fR74xARmIxYk/+al/BEuHZ8LZt41cc3DRm9YMMA0FcU9Aga5IkUytd1mUaW1TGUrUiV74pEQTHMRkhLsFKuXMmQIkFGYR1hCFKA38IKvyTkj0kuCwl4AqPjhmPGn7JeDXHHu1RYv3C+NCNzog0k59aXPdWDkhM+LdOJ9JGUMnpzpAATsJXH1nOZiU+Y0lUUbquGuMwrLYEc3twkx7zf2d1KPunxTHrSpTIWyeZZRDdIDwp8RKw+kD0KkSJ1fXfrVFcBy47hmbh3/4gItRuuaXju/vWLOtpP90VQrgDgwBTWteovuh1zw=="
  dex.github.clientSecret: "AgB4BIIkwHSbgmtu59AdL7ONdb/TyxRau+YJ2l8gVa382JZShlieUn3gqOg4wJR7fXw7fA6Uad+W4NBjHTJ3xzZ/OrjVVRVJGLtDO4ECtEX+LKCUN1srbUKysURkfwNmCrdY6jHHDiQ5XQ1X1oXFX7seOM72IcHtuP1I2DGwdpnhe0BLT0acIJEWFkwB2a1Wk65T/TxnTmF8qrytCXLjAl98WpBN2Abkb7L4L5pJi4/vEO2wlMZ25i0aPoX0Ddjr+M4jQnEMitOVooJdGTYFbs7ZZxNzaBIvJ65Hnhy/Zeja0VZxghmRC+dRoFErdkKRMZCVcMc7arIpN4TDkUQUbVECztisXd6GNQXWlubzq1ugAbDU/p+98egypDh3TzKxg/CA+3OitC3Fw9PZakWpbBc6cMwESgOK0De0Kzc0YQW6GnHQC7FLHm19t0/twHCF3ef5uOECpXcWjdkk6k8p9l5h3PXlliwGMD4rXw1PoiRlzjOsN5azOd6UHho5sGYrwNPA6J0pARqd2cqEPg8eIRqnERMNk1PLaMKxXJACZLiM6VfubSrFrsz+ybLRhRx/adR8KRu3dnbhKMfBUvaWWY5vUs2KMBPFxuSgVOtwuHUW3sbyO1ItaCR7x4tT4YMXXqCRXQ2VufOsdzZidnkmyNwd3oNT4pgOvJQ4Z7/IXGKh6WSeYir0i9pidjz2njCNPTNpmvf/6YFP9TjJKNNbaQ2MtAv2Mkr5R7k6giBI3BDWWXN/YL/6gOU5"
  server.secretkey: "AgCprhgm0A+3JV+271yblRWIPeNMLBSIAszqsrCFB+fmyaZpN8Id9vqHpnEig+ndUBBNmleA/xwKVKwSzt5TzdH7ctopqc+kATvaYZtFyobFCbGME9lT6VPoh/lYuO9d/y+pcXPXjOeCPBtRel+IfRRPDZmlvxWF97eJFVrXlvSa+NXGbvclHoJfLJgZz5MP2Vmh9esDbSNX+h1rUGVCeRSQR7G8DvctrddOO4dV5yGlSC/6ChEniytX4Ny7ZH+hFqWlBwN7JDMh7c6qSuDC4iPEgG/8lzMc6ZBJiOSGReVOpjBsk9FxXaTJTGQlH4X2RASfaydfzYLgAzx/p2KkyH1SrZSMOV5QitTzoynZE1DN2qWEaoCdY5dxjn7xaR6LwKSKmxN8bw81C2spaRJ8ouLxpRErszNjXgjLChhe/m59ovDvFUj6sBx3JyDd0pqX7QtvhS9Pc2ScO+9D8AozATqx+5chY3QbniC6301bzFA5cBLL5ITV3ypJ+uAYTX/gvzhdv260M/xwndqtZJOMAUCscV47ahHI+DxGjUBvAmN0qbkfnKWjMekwrY8RQ4E6Y1DmMP993/MjqW/bnyQyyfw+oPDMD73ZrzC2Ldr/iCvi/HWly1AO7NOIKZhIBAjEpPLlkulmJAYyIJob8b8SSCUJR1vB/diFtrG+Mmg8IX6F04ycMoy7RIqK5QZdrS6UcsFAQhgBqgdlFV18"

argo-cd:
  server:
    ingress:
      enabled: true
      annotations:
        kubernetes.io/ingress.class: traefik
        traefik.ingress.kubernetes.io/router.entrypoints: websecure
      pathType: ImplementationSpecific
      hosts:
        - "argocd.dev.service.aepps.com"
    extraArgs:
      - --insecure=true
      - --repo-server-timeout-seconds=180
    config:
      # Argo CD's externally facing base URL (optional). Required when configuring SSO
      # url: https://argocd.example.com
      # Argo CD instance label key
      url: https://argocd.dev.service.aepps.com
      application.instanceLabelKey: argocd.argoproj.io/instance
      repositories: |
        - url: https://github.com/aeternity/gitops-tools-superhero.git
        - url: https://github.com/aeternity/gitops-apps-aelabs.git
        - type: helm
          url: https://argoproj.github.io/argo-helm
          name: argo
        - type: helm
          url: https://bitnami-labs.github.io/sealed-secrets
          name: sealed-secrets
        - type: helm
          url: https://helm.traefik.io/traefik
          name: traefik
        - type: helm
          url: https://fluent.github.io/helm-charts
          name: fluent
        - type: helm
          url: https://charts.jetstack.io
          name: cert-manager
      dex.config: |
        connectors:
          - type: github
            id: github
            name: GitHub
            config:
              clientID: $dex.github.clientID
              clientSecret: $dex.github.clientSecret
              orgs:
              - name: aeternity
      resource.customizations: |
          networking.k8s.io/Ingress:
            health.lua: |
              hs = {}
              hs.status = "Healthy"
              return hs
          admissionregistration.k8s.io/MutatingWebhookConfiguration:
            ignoreDifferences: |
              jsonPointers:
              - /webhooks/0/failurePolicy
          admissionregistration.k8s.io/ValidatingWebhookConfiguration:
            ignoreDifferences: |
              jsonPointers:
              - /webhooks/0/failurePolicy
    rbacConfig:
      policy.default: role:readonly
      policy.csv: |
        g, aeternity:devops, role:admin
    additionalProjects:
      - name: tools
        namespace: argocd
        additionalLabels: {}
        additionalAnnotations: {}
        description: Tools used to run the environment
        sourceRepos:
          - 'https://github.com/aeternity/gitops-tools-superhero.git'
          - 'https://bitnami-labs.github.io/sealed-secrets'
          - 'https://argoproj.github.io/argo-helm'
        destinations:
          - namespace: tools
            server: https://kubernetes.default.svc
          - namespace: argocd
            server: https://kubernetes.default.svc
          - namespace: sealed-secrets
            server: https://kubernetes.default.svc
          - namespace: traefik
            server: https://kubernetes.default.svc
          - namespace: kube-system
            server: https://kubernetes.default.svc
          - namespace: monitoring
            server: https://kubernetes.default.svc
          - namespace: logging
            server: https://kubernetes.default.svc
          - namespace: cert-manager
            server: https://kubernetes.default.svc
          - namespace: sonarqube
            server: https://kubernetes.default.svc
          - namespace: rabbitmq
            server: https://kubernetes.default.svc
        clusterResourceWhitelist:
          - group: '*'
            kind: '*'
      - name: apps
        namespace: argocd
        additionalLabels: {}
        additionalAnnotations: {}
        description: Applications deployed on K8S
        sourceRepos:
          - 'https://github.com/aeternity/gitops-apps-aelabs.git'
        destinations:
          - namespace: apps
            server: https://kubernetes.default.svc
        clusterResourceWhitelist:
          - group: '*'
            kind: '*'

defaultRepoUrl: 'https://github.com/aeternity/gitops-tools-superhero.git'
defaultTargetRevision: dev

applications:
  argocd:
    project: tools
    namespace: argocd
  sealed-secrets:
    project: tools
    namespace: sealed-secrets
  traefik:
    project: tools
    namespace: traefik
  metrics-server:
    project: tools
    namespace: kube-system
  kube-prometheus-stack:
    project: tools
    namespace: monitoring
  prometheus-blackbox-exporter:
    project: tools
    namespace: monitoring
  hcloud-csi-driver:
    project: tools
    namespace: kube-system
  cert-manager:
    project: tools
    namespace: cert-manager
  sonarqube:
    project: tools
    namespace: sonarqube
  rabbitmq:
    project: tools
    namespace: rabbitmq
  dex-ui:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
  aepp-graffiti:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
  state-channel-demo-frontend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
  state-channel-demo-backend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
  dex-backend-mainnet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
  dex-backend-testnet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
  ga-multisig-backend-mainnet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
  ga-multisig-backend-testnet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
  ga-multisig-ui:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
  aepp-lqty:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
  scv-gateway:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
  aescan:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
  aescan-testnet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-aelabs.git'
