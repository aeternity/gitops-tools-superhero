encValues:
  dex.github.clientID: "AgCkHRMzDm8vDdwcnn2DGMcHCswq1us/xf2jYg4CN5E/tKsyvcpX3e2l6qGn5ykjo3kZ113+g/zFSapdL3McI2hTgYpnrW83t21gbIPb2daLlT8DuDPaWQ8UGW/xrbLTYrFh4ouDzpYt4DtwZj/90odJjZrK6ei0PEhUkF7eC7gWZ0iOrCB2xuIgauvb9LKF/bn2Gm7Q9L93qPtXMlAWdlANtDGnTWtQZXEreUSLLgBTeFJwMcVKMVUKRIGt25MNAscIXyojD54ft6XnPCDqpkqP0AAkVvbEmTYJtoHjXacAbFX3ybCa3aKACZRkMCMrWuabL55xUmWgGp8kqien/sDcz4TdLP2mPLvq3BlDddU9G8UzBkLqc22vJrKUOlC1k+AuiJwuzSNssCYaZ/2+kTtdkm0Dz0Sw+9AbcckUlOBUc2hHP5JhA8QSTKiPIjiszAv8/Ev90oXGcIqOBzf56yrLJ8bpZ5ljvQcH/oHosMKZK+TtG4bPDkV/C9aVdiLpzsJ317tBdDlQK9CJQ6jAFystUn2oFjx5agURkkDsCAxUeA3D9ly0DiDL7y/XP/SjTsNWRy236Oo4b0vpciuO/gY3no7ZEY4PtFmEae+Paz2NdmbpCx5y2eNO7J3xS5vq06JDQ9yzilw1DTlAAtaN6z+JTZ+8f1KGMiTge1Ngr7EaswJirvx1vb+HUniTkEkXQ3/20PGZzo1l7vT0LdZCdRV6ITDXEw=="
  dex.github.clientSecret: "AgAHRDyzI1/S1mcAV/TrZqaMSEppjph9oLZHqj0/ih5Bbd9a1l+vK92hg+NtvGvJUyP0ZosNldaOVRIbBBgM39t/tIHI52ASZFQOxfBQyXu6vDuocygGYrpZfxZVMQG5MQpORdtxGswI2fwzogvmyLmYxb/yScvi9ugdNJsUIGQ1/UwwGa3b0L/Ll6eGcR3SrzGvIdpugJZoez6dQEghvyoldR2pCfAD7PxDZuH1pTTQzHInkRu1yVu7AjGkh9Y3Ff6k5DsbAQgAuPFPzESKVz9alTwmPhctNMd1Pqpi4JnAX5Z2+gMBXPq/6H0zdmDxzN22+EEskMp0AoJwworNu4J7BZg9Y/WHGNxckuJmwT5z/JlMT5lzIpxkz7wFIZLvXDa9FJk+xeQPuGd0mvt9VqBpBp8kuHb/gTH+N3SYjAhyCguhv/hMvLk5w7d50tKCi1w1d13Hzt0fvxV+ozGI6rM0bcVHifd3VHF4jTrLkqjGcXnBbiXJW3UnbP3KREVgwJUph8AUulwLIJ3mSdSApvtIUrTpEb6y4mVIy+5F5VV3p3GCb+6LnlK9mO+eEXwJM8WROXPZ3TGrpTwvXsXVY2s7XHhRmyRbIxnHahA/1sHo70ODG+HOxMVE78MS83+KcawtqDByzeCQ/VQ6ONoAm09C1RTdK2qtzzRVLnwsoT7f33UYzT87bCT8dpjMIJWVXPdD55fEuZOb/iNDkb2JV9i2KPVA43Bcs71azS96E+Nr6v8Ini2Q7zJP"
  server.secretkey: "AgCTX4Gf9XciR4gkmAH2WL53IKNQ1eESiImeQFue0LsSTE1IhTJGQqlkjRvF0VddD8U5Ctksf5gkksF28xeKzMkFaIXZh7QgUOs6melZuP9xTXNOYOMwBj93vi0Udj4po4SydIkkW8dYNKkRwR410x3AsA0SJ5G2QdnrRxy3s6iZ2fx/+hnU5ZSAfUPJ0vpQYsJW+q7HeYwBhlGpOZYZoIFbfkokCkKp5iSW4xPQMaL9zikRzRNZv/gjAk4V+eWRui771WoQRv9LHfrIbnvtB+Vv000pMH/J8H0VEPlQMp7KnQFK74FegH24Cv7jR4VRdcI4Q1fHnvc+hW89Q9wE91m97PfzvzfxEVDs3jr4Oy/qtkgyXJCKnX2EEy7bWaV087NJXtvwr7xEyUouSZlu2JNfWIdBS0r06uvPn9n7ERlVV9kYXT2hmcc+zBsXJYMGjx/3Jv39vDmropYC8safUrNX4PiWqMjT4+eOnp0CRL/q3ANMDuS5G4MfrdnMg/GSjTZqhWHhEjgHdcio+bdbiddWrkfp6yMgpEX6Z3VDlVwPbZcc5ag6hP1DmgDjsFIqajBYhvhT6sxtziwj4Hnz+cZMeHdasjQGuXDmQ3XAOFCyydaEGrAHel9l9oMmIIZ7Ae/RC3LbGwNETilL644QZdB7e+dWaiHFDYI5h1zdDDDtKBQ11ciBW3GXOhlEiTGrFSEbUiTno4ksFGWEV4Um2PYC"
argo-cd:
  server:
    ingress:
      enabled: true
      annotations:
        kubernetes.io/ingress.class: traefik
        traefik.ingress.kubernetes.io/router.entrypoints: websecure
      pathType: ImplementationSpecific
      hosts:
        - "argocd.prd.service.aepps.com"
    extraArgs:
      - --insecure=true
      - --repo-server-timeout-seconds=180
    config:
      # Argo CD's externally facing base URL (optional). Required when configuring SSO
      # url: https://argocd.example.com
      # Argo CD instance label key
      url: https://argocd.prd.service.aepps.com
      application.instanceLabelKey: argocd.argoproj.io/instance
      repositories: |
        - url: https://github.com/aeternity/gitops-tools-superhero.git
        - url: https://github.com/aeternity/gitops-apps-superhero.git
        - type: helm
          url: https://argoproj.github.io/argo-helm
          name: argo
        - type: helm
          url: https://bitnami-labs.github.io/sealed-secrets
          name: sealed-secrets
        - type: helm
          url: https://helm.traefik.io/traefik
          name: traefik
        - type: helm
          url: https://fluent.github.io/helm-charts
          name: fluent
        - type: helm
          url: https://charts.jetstack.io
          name: cert-manager
      dex.config: |
        connectors:
          - type: github
            id: github
            name: GitHub
            config:
              clientID: $dex.github.clientID
              clientSecret: $dex.github.clientSecret
              orgs:
              - name: aeternity
      resource.customizations: |
          networking.k8s.io/Ingress:
            health.lua: |
              hs = {}
              hs.status = "Healthy"
              return hs
          admissionregistration.k8s.io/MutatingWebhookConfiguration:
            ignoreDifferences: |
              jsonPointers:
              - /webhooks/0/failurePolicy
          admissionregistration.k8s.io/ValidatingWebhookConfiguration:
            ignoreDifferences: |
              jsonPointers:
              - /webhooks/0/failurePolicy
    rbacConfig:
      policy.default: role:readonly
      policy.csv: |
        g, aeternity:devops, role:admin
    additionalProjects:
      - name: tools
        namespace: argocd 
        additionalLabels: {}
        additionalAnnotations: {}
        description: Tools used to run the environment
        sourceRepos:
          - 'https://github.com/aeternity/gitops-tools-superhero.git'
        destinations:
          - namespace: tools
            server: https://kubernetes.default.svc
          - namespace: argocd
            server: https://kubernetes.default.svc
          - namespace: sealed-secrets
            server: https://kubernetes.default.svc
          - namespace: traefik
            server: https://kubernetes.default.svc
          - namespace: kube-system
            server: https://kubernetes.default.svc
          - namespace: monitoring
            server: https://kubernetes.default.svc
          - namespace: logging
            server: https://kubernetes.default.svc
          - namespace: elasticsearch
            server: https://kubernetes.default.svc
          - namespace: elastic-system
            server: https://kubernetes.default.svc
          - namespace: cert-manager
            server: https://kubernetes.default.svc
        clusterResourceWhitelist:
          - group: '*'
            kind: '*'
      - name: apps
        namespace: argocd
        additionalLabels: {}
        additionalAnnotations: {}
        description: Applications deployed on K8S
        sourceRepos:
          - 'https://github.com/aeternity/gitops-apps-superhero.git'
        destinations:
          - namespace: apps
            server: https://kubernetes.default.svc
        clusterResourceWhitelist:
          - group: '*'
            kind: '*'

defaultRepoUrl: 'https://github.com/aeternity/gitops-tools-superhero.git'
defaultTargetRevision: prd

applications:
  argocd:
    project: tools
    namespace: argocd
  sealed-secrets:
    project: tools
    namespace: sealed-secrets
  traefik:
    project: tools
    namespace: traefik
  metrics-server:
    project: tools
    namespace: kube-system
  kube-prometheus-stack:
    project: tools
    namespace: monitoring
  prometheus-blackbox-exporter:
    project: tools
    namespace: monitoring
  fluent-bit:
    project: tools
    namespace: logging
  kubernetes-event-exporter:
    project: tools
    namespace: monitoring
  hcloud-csi-driver:
    project: tools
    namespace: kube-system
  eck-operator:
    project: tools
    namespace: elastic-system
  cert-manager:
    project: tools
    namespace: cert-manager
  dex-ui:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  aepp-base:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  aepp-graffiti:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  aerepl-http:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  aesophia-http:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  superhero-ui:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  superhero-wallet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  state-channel-demo-frontend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  state-channel-demo-backend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  dex-backend-mainnet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  dex-backend-testnet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  explorer:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  superhero-backend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  ga-multisig-backend-mainnet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  ga-multisig-backend-testnet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
  ga-multisig-ui:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps-superhero.git'
